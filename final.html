<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>OW2陣容模擬器</title>
  <style type="text/css">
    ::-webkit-scrollbar {
      display: none
    }

    @font-face {
      font-family: 'oxxo';
      src: url('setofont.ttf');
    }

    .title_logo {
      text-align: center;
      width: auto;
      font-family: oxxo, serif;
      color: aliceblue;
      font-size: 220%;
    }

    .enemy {
      position: fixed;
      top: 0%;
      width: 100%;
      display: flex;
      justify-content: center;
    }

    .info {
      position: fixed;
      top: 40%;
      right: 0%;
    }

    .hero {
      position: fixed;
      bottom: 0%;
      width: auto;
      display: flex;
      height: 35%;
      justify-content: center;
    }

    .Hero {
      width: 80px;
    }

    body {
      background-color: black;
      justify-content: center;
    }

    div {
      height: auto;
      width: auto;
      justify-content: center;
    }

    .container {
      position: fixed;
      font-size: 140%;
      text-align: left;
      color: whitesmoke;
      top: 89.4%;
      left: 49.5%;
      transform: translate(-50%, -50%);
    }

    .start {
      border-radius: 40%;
      position: fixed;
      top: 90%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    audio {
      vertical-align: bottom;
    }
  </style>
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script>
    const hero_list = "垃圾鎮女王 席格馬 攔路豬 札莉雅 歐瑞莎 毀滅拳王 溫斯頓 火爆鋼球 萊茵哈特 D.VA 半藏 卡西迪 壁壘機兵 士兵76 奪命女 小美 托比昂 死神 法拉 源氏 炸彈鼠 索潔恩 艾西 辛梅塔 迴音 閃光 駭影 安娜 巴帝斯特 慈悲 碧姬 禪亞塔 莫伊拉 路西歐 霧子";
    const tank_list = "垃圾鎮女王 席格馬 攔路豬 札莉雅 歐瑞莎 毀滅拳王 溫斯頓 火爆鋼球 萊茵哈特 D.VA"
    const dps_list = "半藏 卡西迪 壁壘機兵 士兵76 奪命女 小美 托比昂 死神 法拉 源氏 炸彈鼠 索潔恩 艾西 辛梅塔 迴音 閃光 駭影";
    const sup_list = "安娜 巴帝斯特 慈悲 碧姬 禪亞塔 莫伊拉 路西歐 霧子"
    var hero = hero_list.split(' ');
    var hero_select = {};
    var counter_cnt = {};
    function start() {
      document.getElementById("bow").volume = 0.3;

      document.onmousemove = function (event) { //當滑鼠移動
        mousemove(percent, event);
      }

      $("#start") //滑鼠滑入變成隨機大招圖標
        .mouseover(function () {
          var pic = Math.floor(Math.random() * 32 + 1);
          $(this).find("img").attr("src", "ult/" + String(1 + pic).padStart(2, "0") + ".jpg");
        })
        .mouseout(function () {
          $(this).find("img").attr("src", "start.png");
        });

      /*$("#about").click(function(){ //點擊開始後
          document.getElementById("title_logo").innerHTML = "<p>made by<br>王家騏、戴毓辰<";
      });*/

      $("#ult").click(function () { //點擊開始後
        $("#start").unbind();
        $("#percent").hide();
        $("#title_logo").fadeOut(1000);
        $("#start").fadeOut(1000);
        $("#hero").fadeIn(2000);
      });

      for (var i = 0; i < hero.length; i++) {
        hero_select[hero[i]] = 0;
        counter_cnt[hero[i]] = 0;
      }
      console.log(hero);
      console.log(hero_select);

      // for (var i = 0; i < hero.length; i++) {
      //   var img = document.getElementById("Hero" + String(i));
      //   img.setAttribute("alt", hero[i]);
      //   img.setAttribute("id", hero[i]);
      // }
    }

    function getPosition(element) { //拿到屬標位置
      var x = 0;
      var y = 0;
      let rect = element.getBoundingClientRect();
      x += rect.x;
      y += rect.y;

      return { x: x, y: y };
    }

    var mousemove = function (percent, event) {  //滑鼠移動改變數字
      var posX = 0, posY = 0;
      var e = event || window.event;
      if (e.pageX || e.pageY) {
        posX = e.pageX;
        posY = e.pageY;
      } else if (e.clientX || e.clientY) {
        posX = event.clientX + document.documentElement.scrollLeft + document.body.scrollLeft;
        posY = event.clientY + document.documentElement.scrollTop + document.body.scrollTop;
      }
      posY -= getPosition(percent).y;
      posX -= getPosition(percent).x;
      winy = getPosition(percent).y;
      winx = window.innerWidth - getPosition(percent).x;
      var posroad = Math.sqrt((posY) * (posY) + (posX) * (posX));
      var winroad = Math.sqrt(winy * winy + winx * winx);
      percent.innerHTML = ((100 - (posroad / winroad) * 100) * 1.03).toFixed(0);
    }

    function select(selected_hero) {
      if (hero_select[selected_hero] == 1) {//取消選取
        hero_select[selected_hero] = 0;
        $("#" + selected_hero).fadeTo("fast", 1);
      }
      else {//選取
        hero_select[selected_hero] = 1;
        //counter_counter(selected_hero);
        $("#" + selected_hero).fadeTo("fast", 0.3);
      }
      display();
    }
    function display() {
      msg = "";
      for (var i = 0; i < hero.length; i++) {
        if (hero_select[hero[i]])
          msg += "<img src='" + document.getElementById(hero[i]).getAttribute("src") + "' class='Hero' id='enemy0'>";
      }
      document.getElementById("enemy").innerHTML = msg;
    }

    function counter_counter(selected_hero) {
      if (selected_hero == hero[0]) {
        counter_cnt[hero[12]]++;
        counter_cnt[hero[31]]++;
        counter_cnt[hero[15]]++;
        counter_cnt[hero[4]]++;
      }
      else if (selected_hero == hero[1]) {
        counter_cnt[hero[4]]++;
        counter_cnt[hero[17]]++;
        counter_cnt[hero[19]]++;
        counter_cnt[hero[8]]++;
      }
      else if (selected_hero == hero[2]) {
        counter_cnt[hero[27]]++;
        counter_cnt[hero[3]]++;
        counter_cnt[hero[14]]++;
        counter_cnt[hero[17]]++;
      }
      else if (selected_hero == hero[3]) {
        counter_cnt[hero[18]]++;
        counter_cnt[hero[26]]++;
        counter_cnt[hero[31]]++;
        counter_cnt[hero[12]]++;
      }
      else if (selected_hero == hero[4]) {
        counter_cnt[hero[6]]++;
        counter_cnt[hero[31]]++;
        counter_cnt[hero[20]]++;
        counter_cnt[hero[17]]++;
      }
      else if (selected_hero == hero[5]) {
        counter_cnt[hero[17]]++;
        counter_cnt[hero[18]]++;
        counter_cnt[hero[19]]++;
        counter_cnt[hero[24]]++;
      }
      else if (selected_hero == hero[6]) {
        counter_cnt[hero[2]]++;
        counter_cnt[hero[27]]++;
        counter_cnt[hero[20]]++;
        counter_cnt[hero[32]]++;
      }
      else if (selected_hero == hero[7]) {
        counter_cnt[hero[26]]++;
        counter_cnt[hero[17]]++;
        counter_cnt[hero[12]]++;
        counter_cnt[hero[18]]++;
      }
      else if (selected_hero == hero[8]) {
        counter_cnt[hero[17]]++;
        counter_cnt[hero[12]]++;
        counter_cnt[hero[18]]++;
        counter_cnt[hero[20]]++;
      }
      else if (selected_hero == hero[9]) {
        counter_cnt[hero[26]]++;
        counter_cnt[hero[3]]++;
        counter_cnt[hero[2]]++;
        counter_cnt[hero[20]]++;
      }
      else if (selected_hero == hero[10]) {
        counter_cnt[hero[18]]++;
        counter_cnt[hero[30]]++;
        counter_cnt[hero[3]]++;
        counter_cnt[hero[27]]++;
      }
      else if (selected_hero == hero[11]) {
        counter_cnt[hero[14]]++;
        counter_cnt[hero[6]]++;
        counter_cnt[hero[28]]++;
        counter_cnt[hero[25]]++;
      }
      else if (selected_hero == hero[12]) {
        counter_cnt[hero[2]]++;
        counter_cnt[hero[20]]++;
        counter_cnt[hero[27]]++;
        counter_cnt[hero[17]]++;
      }
      else if (selected_hero == hero[13]) {
        counter_cnt[hero[2]]++;
        counter_cnt[hero[6]]++;
        counter_cnt[hero[19]]++;
        counter_cnt[hero[1]]++;
      }
      else if (selected_hero == hero[14]) {
        counter_cnt[hero[6]]++;
        counter_cnt[hero[7]]++;
        counter_cnt[hero[21]]++;
        counter_cnt[hero[8]]++;
      }
      else if (selected_hero == hero[15]) {
        counter_cnt[hero[18]]++;
        counter_cnt[hero[26]]++;
        counter_cnt[hero[14]]++;
        counter_cnt[hero[13]]++;
      }
      else if (selected_hero == hero[16]) {
        counter_cnt[hero[18]]++;
        counter_cnt[hero[14]]++;
        counter_cnt[hero[27]]++;
        counter_cnt[hero[24]]++;
      }
      else if (selected_hero == hero[17]) {
        counter_cnt[hero[14]]++;
        counter_cnt[hero[24]]++;
        counter_cnt[hero[18]]++;
        counter_cnt[hero[31]]++;
      }
      else if (selected_hero == hero[18]) {
        counter_cnt[hero[14]]++;
        counter_cnt[hero[10]]++;
        counter_cnt[hero[21]]++;
        counter_cnt[hero[13]]++;
      }
      else if (selected_hero == hero[19]) {
        counter_cnt[hero[18]]++;
        counter_cnt[hero[30]]++;
        counter_cnt[hero[3]]++;
        counter_cnt[hero[27]]++;
      }
      else if (selected_hero == hero[20]) {
        counter_cnt[hero[18]]++;
        counter_cnt[hero[34]]++;
        counter_cnt[hero[24]]++;
        counter_cnt[hero[14]]++;
      }
      else if (selected_hero == hero[21]) {
        counter_cnt[hero[6]]++;
        counter_cnt[hero[3]]++;
        counter_cnt[hero[14]]++;
        counter_cnt[hero[33]]++;
      }
      else if (selected_hero == hero[22]) {
        counter_cnt[hero[14]]++;
        counter_cnt[hero[10]]++;
        counter_cnt[hero[25]]++;
        counter_cnt[hero[8]]++;
      }
      else if (selected_hero == hero[23]) {
        counter_cnt[hero[9]]++;
        counter_cnt[hero[18]]++;
        counter_cnt[hero[6]]++;
        counter_cnt[hero[0]]++;
      }
      else if (selected_hero == hero[24]) {
        counter_cnt[hero[14]]++;
        counter_cnt[hero[21]]++;
        counter_cnt[hero[10]]++;
        counter_cnt[hero[26]]++;
      }
      else if (selected_hero == hero[25]) {
        counter_cnt[hero[6]]++;
        counter_cnt[hero[30]]++;
        counter_cnt[hero[18]]++;
        counter_cnt[hero[16]]++;
      }
      else if (selected_hero == hero[26]) {
        counter_cnt[hero[10]]++;
        counter_cnt[hero[20]]++;
        counter_cnt[hero[14]]++;
        counter_cnt[hero[25]]++;
      }
      else if (selected_hero == hero[27]) {
        counter_cnt[hero[9]]++;
        counter_cnt[hero[14]]++;
        counter_cnt[hero[0]]++;
        counter_cnt[hero[25]]++;
      }
      else if (selected_hero == hero[28]) {
        counter_cnt[hero[9]]++;
        counter_cnt[hero[19]]++;
        counter_cnt[hero[10]]++;
        counter_cnt[hero[2]]++;
      }
      else if (selected_hero == hero[29]) {
        counter_cnt[hero[14]]++;
        counter_cnt[hero[6]]++;
        counter_cnt[hero[2]]++;
        counter_cnt[hero[21]]++;
      }
      else if (selected_hero == hero[30]) {
        counter_cnt[hero[12]]++;
        counter_cnt[hero[18]]++;
        counter_cnt[hero[20]]++;
        counter_cnt[hero[10]]++;
      }
      else if (selected_hero == hero[31]) {
        counter_cnt[hero[0]]++;
        counter_cnt[hero[6]]++;
        counter_cnt[hero[14]]++;
        counter_cnt[hero[19]]++;
      }
      else if (selected_hero == hero[32]) {
        counter_cnt[hero[14]]++;
        counter_cnt[hero[26]]++;
        counter_cnt[hero[7]]++;
        counter_cnt[hero[6]]++;
      }
      else if (selected_hero == hero[33]) {
        counter_cnt[hero[18]]++;
        counter_cnt[hero[16]]++;
        counter_cnt[hero[32]]++;
        counter_cnt[hero[12]]++;
      }
      else if (selected_hero == hero[34]) {
        counter_cnt[hero[14]]++;
        counter_cnt[hero[26]]++;
        counter_cnt[hero[7]]++;
        counter_cnt[hero[6]]++;
      }
    }
  </script>
</head>

<body onload=start()>
  <div id="title_logo" class="title_logo">
    <img id="logo" class="logo" src="logo.png" width="500"><br>
    <img id="title" class="title" src="title.png"> 陣容模擬器
  </div>
  <div id="info" class="info">
    <a href=""><img src="ppt.png" width="40"></a><br>
    <img id="about" src="about.png" width="40">
  </div>
  <audio id="bow" autoplay loop src="BOW.mp3"></audio>
  <div class="container" id="percent"></div>
  <div id="start">
    <img id="ult" class="start" src="start.png" width="130">
  </div>
  <div id="enemy" class="enemy">

  </div>

  <div id="hero" class="hero" style="display:none">
    <div style="text-align:center; width: 20%; overflow: scroll;">
      <img src="hero/tank0.png" class="Hero" id="垃圾鎮女王" alt="垃圾鎮女王" onclick="select(hero[0])">
      <img src="hero/tank1.png" class="Hero" id="席格馬" alt="席格馬" onclick="select(hero[1])">
      <img src="hero/tank2.png" class="Hero" id="攔路豬" alt="攔路豬" onclick="select(hero[2])">
      <img src="hero/tank3.png" class="Hero" id="札莉雅" alt="札莉雅" onclick="select(hero[3])">
      <img src="hero/tank4.png" class="Hero" id="歐瑞莎" alt="歐瑞莎" onclick="select(hero[4])">
      <img src="hero/tank5.png" class="Hero" id="毀滅拳王" alt="毀滅拳王" onclick="select(hero[5])">
      <img src="hero/tank6.png" class="Hero" id="溫斯頓" alt="溫斯頓" onclick="select(hero[6])">
      <img src="hero/tank7.png" class="Hero" id="火爆鋼球" alt="火爆鋼球" onclick="select(hero[7])">
      <img src="hero/tank8.png" class="Hero" id="萊茵哈特" alt="萊茵哈特" onclick="select(hero[8])">
      <img src="hero/tank9.png" class="Hero" id="D.VA" alt="D.VA" onclick="select(hero[9])">
    </div>
    <div style="text-align:center; width: 35%; overflow: scroll;">
      <img src="hero/dps0.png" class="Hero" id="半藏" alt="半藏" onclick="select(hero[10])">
      <img src="hero/dps1.png" class="Hero" id="卡西迪" alt="卡西迪" onclick="select(hero[11])">
      <img src="hero/dps2.png" class="Hero" id="壁壘機兵" alt="壁壘機兵" onclick="select(hero[12])">
      <img src="hero/dps3.png" class="Hero" id="士兵76" alt="士兵76" onclick="select(hero[13])">
      <img src="hero/dps4.png" class="Hero" id="奪命女" alt="奪命女" onclick="select(hero[14])">
      <img src="hero/dps5.png" class="Hero" id="小美" alt="小美" onclick="select(hero[15])">
      <img src="hero/dps6.png" class="Hero" id="托比昂" alt="托比昂" onclick="select(hero[16])">
      <img src="hero/dps7.png" class="Hero" id="死神" alt="死神" onclick="select(hero[17])">
      <img src="hero/dps8.png" class="Hero" id="法拉" alt="法拉" onclick="select(hero[18])">
      <img src="hero/dps9.png" class="Hero" id="源氏" alt="源氏" onclick="select(hero[19])">
      <img src="hero/dps10.png" class="Hero" id="炸彈鼠" alt="炸彈鼠" onclick="select(hero[20])">
      <img src="hero/dps11.png" class="Hero" id="索潔恩" alt="索潔恩" onclick="select(hero[21])">
      <img src="hero/dps12.png" class="Hero" id="艾西" alt="艾西" onclick="select(hero[22])">
      <img src="hero/dps13.png" class="Hero" id="辛梅塔" alt="辛梅塔" onclick="select(hero[23])">
      <img src="hero/dps14.png" class="Hero" id="迴音" alt="迴音" onclick="select(hero[24])">
      <img src="hero/dps15.png" class="Hero" id="閃光" alt="閃光" onclick="select(hero[25])">
      <img src="hero/dps16.png" class="Hero" id="駭影" alt="駭影" onclick="select(hero[26])">
    </div>
    <div style="text-align:center; width: 20%; overflow: scroll;">
      <img src="hero/sup0.png" class="Hero" id="安娜" alt="安娜" onclick="select(hero[27])">
      <img src="hero/sup1.png" class="Hero" id="巴帝斯特" alt="巴帝斯特" onclick="select(hero[28])">
      <img src="hero/sup2.png" class="Hero" id="慈悲" alt="慈悲" onclick="select(hero[29])">
      <img src="hero/sup3.png" class="Hero" id="碧姬" alt="碧姬" onclick="select(hero[30])">
      <img src="hero/sup4.png" class="Hero" id="禪亞塔" alt="禪亞塔" onclick="select(hero[31])">
      <img src="hero/sup5.png" class="Hero" id="莫伊拉" alt="莫伊拉" onclick="select(hero[32])">
      <img src="hero/sup6.png" class="Hero" id="路西歐" alt="路西歐" onclick="select(hero[33])">
      <img src="hero/sup7.png" class="Hero" id="霧子" alt="霧子" onclick="select(hero[34])">
    </div>
  </div>
</body>

</html>